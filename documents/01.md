## 1.0 개요

- 초기 웹 개발은 Perl, PHP 같은 서버측 언어에 간단한 HTML을 사용하는 것이 전부
- 단순한 웹 사이트가 복잡한 웹 애플리케이션으로 발전하면서, 복잡한 사용자 인터페이스와 비즈니스 로직을 갖추게 되고 데이터 계층이 실시간으로 변화하기도 함
- 복잡한 사용자 인터페이스를 만들기 위해 다양한 템플릿 라이브러리가 생성됨

    - 이 때의 관심사는 옛날 방식의 관심사 분리에 초점이 맞춰져 있음
    - CSS / HTML / 자바스크립트를 스타일 / 데이터 추상화 / 동적 인터랙션으로 구분하는 정도로 역할을 구분
    - 요즘의 요구사항에는 들어맞지 않음

- React는 효율적인 프론트엔드 개발을 위해 새로운 방법을 제시함

    - React는 자바스크립트로 만든 강력한 UI 라이브러리
    - 과거의 템플릿 라이브러리와 달리, 웹 사이트 어디서든 사용자 인터페이스를 재사용할 수 있음

- React의 접근은 완전히 새로운 것이 아니나, 템플릿 없이 순수하게 자바스크립트만으로 가능하게 함 : 이 방법이 유지보수와 재사용, 확장에 더 용이하다는 것을 입증함

## 1.1 React란 무엇인가

- UI 라이브러리 중 하나로, 특별한 템플릿 언어가 아니라 자바스크립트를 이용하여 컴포넌트를 구성
- React UI 컴포넌트는 매우 독립적이며 특정 관심사에 집중된 기능 블록을 의미하며, 시각적 표현과 동작을 구현하는 논리 정보를 모두 담고 있음
- 컴포넌트 기반 아키텍쳐 (CBA : Component-based Architecture)를 구현한 예시 중 하나로 웹 컴포넌트가 있으며, React는 템플릿 언어가 없이 순수한 자바스크립트를 기반으로 CBA를 구현함

## 1.2 React가 해결할 수 있는 문제

- 복잡한 웹 UI로 구성된 프론트엔드 애플리케이션을 개발하고 관리하는데 어려움을 겪고 있었으며, React는 이러한 배경을 기반으로 개발됨
- 데이터가 변경될 때마다 뷰를 직접 변경하고 관리하는 것을 편하게 만들어 줌
- React의 발전 과정

    - 기존 방식으로는 개발을 진행하면서 데이터의 변경에 대한 UI 처리가 쉽지 않았음
    - UI를 함수로 만들어 데이터를 전달하고 호출하여 뷰를 렌더링함으로써, 뷰의 모습을 예측할 수 있었음
    - 메모리에서 DOM 요소를 생성하는 것은 빨랐으나, 실제 DOM으로 렌더링하는 과정이 느리다는 걸 파악하고 개선하여 속도를 개선할 수 있음
    - 여러 회사에서 React를 사용하기 시작하면서 커뮤니티가 발전하기 시작함

## 1.3 React의 장점

- 단순한 앱 개발 : 선언형 스타일이며, 강력하고 개발자 친화적인 DOM 추상화를 제공함. React Native에서는 Android, iOS에서도 이런 이점을 얻을 수 있음
- 빠른 UI : React는 가상 DOM 채택과 DOM의 변경 사항을 비교할 때 사용하는 알고리즘 덕분에 렌더링 속도가 빠르며, 헤드리스 브라우저를 사용하지 않고도 테스트를 수행할 수 있음
- 코드량 감소 : 발전된 개발환경을 바탕으로 수많은 라이브러리와 컴포넌트를 활용할 수 있음

### 1.3.1 간결성

- 선언형 스타일 채탱 : React는 뷰를 자동으로 갱신하는 선언형 스타일을 채택
- 순수한 자바스크립트를 이용한 컴포넌트 기반 아키텍쳐 : 템플릿 엔진같은 도메인 특정 언어에 얽메이지 않고 자바스크립트만 사용하며, 한 가지 기능을 개발하기 위해 기술을 분리하지 않음
- 강력한 추상화 : React는 DOM을 쉽게 다룰 수 있고, 같은 기능이지만 크로스 브라우징을 위해 다르게 구현할 수밖에 없었던 인터페이스나 이벤트 핸들링을 정규화 함

#### a. 선언형 스타일 채택

- 개발자가 순서대로 무엇을 어떻게 처리해야 하는지 작성하는 명령형 스타일과 달리, 실행 결과가 어떠헥 되어야 하는지를 기술하는 선언형 스타일을 채택
- 복잡도를 줄여주고 코드에 대한 이해도와 가독성을 높일 수 있다는 장점이 있음
- React는 UI 요소를 선언형 스타일로 작성한 후 뷰에 변경이 발생하는 경우 알아서 갱신하며, 이를 '내부 상태 변화'라 함
- DOM 비교 : 내부적으로 가상 DOM을 사용하여 브라우저에 이미 반영된 뷰와 새로운 뷰의 차이점을 찾아 비교하고 상태를 갱신하면 뷰는 이에 따라 자동으로 갱신
- 단방향 데이터 처리 : 직접 뷰와 모델을 관리해야 하는 jQuery 방식이나, 모든 것을 프레임워크가 처리하는 Angular 보다 유연하게 처리 가능

#### b. 자바스크립트를 이용한 컴포넌트 기반 아키텍쳐

- 관심사 분리 / 느슨한 결합 / 코드 재사용은 컴포넌트 기반 아키텍쳐의 핵심으로 이점이 많음
- React의 컴포넌트 클래스는 컴포넌트 기반 아키텍쳐를 구성하는 블록이 되며, 코드 재사용으로 코드를 줄일 수 있다는 것이 가장 큰 장점
- 기존 MVC 프레임워크와의 비교

    - Angular, Ember와 같은 MVC 프레임워크는 컴포넌트 하나에 자바스크립트와 템플릿이 분리되어 있음
    - 기존에는 HTML과 자바스크립트를 분리하는 것이 문제가 없었으나, 웹 애플리케이션이 복잡해지며 HTML과 자바스크립트가 기능적으로 밀접하게 결합되어 분리하지 않는 것이 개발자에게 편리해짐
    - Angular의 경우 지시자를 활용하여 기능을 구현하는데, 지시자 및 자체 문법을 익혀야하므로 순수 자바스크립트를 활용할 때보다 배워야 할 것이 많아짐
    - 템플릿을 사용하기 위한 다른 언어를 배워야 하며, 데이터와 관련된 로직과 데이터를 렌더링하는 뷰 로직이 서로 분리되어 있으므로 관리가 어려움

#### c. 강력한 추상화

- React는 내부의 인터페이스는 숨기고 정규화 과정을 거친 합성 메서드와 속성을 제공하여 추상화 : 이벤트가 발생하면 이벤트 핸들러는 원본 이벤트 객체를 원본 객체를 감싼 함성 이벤트 객체를 제공
- 서버 측 렌더링 및 성능 개선에도 도움을 줌

### 1.3.2 속도와 테스트 용이성

- 필요한 DOM 갱신 외에도 프레임워크에서 불필요한 갱신을 일우키는 경우가 있으며 이로 인해 성능이 떨어지나 React는 가상 DOM을 메모리에 두고 렌더링 변경이 필요한 경우에만 실제 DOM에 렌더링 함
- '내부 상태 변화'로 가상 DOM과 실제 DOM을 같게 만들며, 요소 전체가 아니라 필요한 부분만 렌더링하므로 성능이 뛰어남
- 가상 DOM을 가지고 있으므로 헤드리스 브라우저 없이도 단위 테스트를 수행할 수 있음

### 1.3.3 React의 폭넓은 개발 커뮤니티와 생태게

- 페이스북과 인스타그램을 비릇하여 거대 기업이 사용한다는 사실 자체가 수백만 사용자의 브라우저에서 검증되었다는 것을 의미하므로 안전하게 사용 가능
- 개선 속도가 나날이 빨라지고 미래에 대한 걱정도 줄어든다는 장점이 있으며, 개발 커뮤니티가 크기 때문에 도움받기 편함

## 1.4 React의 단점

- React 자체로 완벽한 라이브러리는 아니며, Angular, Ember와 같은 기능을 사용하기 위해서는 Redux나 React Router 등의 라이브러리를 함께 사용해야 함
- 아직 React는 성숙한 라이브러리가 아니며, 핵심 API가 바뀌고 있기 때문에 추가적인 학습이 필요함
- JSX나 Flux와 같은 개념을 익히기 전까지는 어렵게 느껴질 수 있음
- 단방향 데이터만 제공하므로 추가적인 코드를 작성해야 함
- 리액티브 프로그래밍이라 볼 수는 없으며, 리액티브 프로그래밍을 위해서는 별도의 라이브러리를 필요로 함

## 1.5 웹 애플리케이션에 React 적용하기

### 1.5.0 개요

- Redux, React Router 등을 떼어놓고 React만을 놓고 보면 Angular나 Ember 같은 프레임워크보다 Handlebars, Blaze 같은 템플릿 엔진이나 jQuery, Zepto와 같은 DOM 조작 라이브러리와 유사함
- React를 UI 일부에만 적용할 수도 있으며, 프론트 개발을 위해 특정 백엔드를 사용할 필요는 없음

    - UI로 라이브러리로, React와 관련된 Redux나 React Router를 활용한 단일 페이지 애플리케이션 스택의 구성
    - MVC의 V를 대체하는 UI 라이브러리로 기존 MVC 프레임워크와의 결합
    - jQuery를 기반으로 서버 측 렌더링을 거친 애플리케이션에서 자동안성 등 일부 기능을 위한 UI 컴포넌트로 활용
    - 대부분의 로직을 직접 처리하는 전통적인 방식의 백엔드에서 서버측 렌더링 템플릿 라이브러리로 활용
    - 백엔드와 프론트엔드에서 모두 자바스크립트로 사용하는 경우
    - React Native를 UI 라이브러리로 사용한 모바일 앱
    - 여러 가지 렌더링 대상에 적용할 목적으로 사용하는 UI 라이브러리

### 1.5.1 React 라이브러리와 렌더링 대상

- React는 0.14 이후 버전부터는 'react', 'react-dom' 패키지를 분리하여 npm에 배포하기 시작 : React.render() => ReactDOM.render()로 변경
- 렌더링 대상을 분리하여 웹 환경 외에 ART나 VR, 3D 환경 등으로 렌더링할 수 있음
- React는 거의 JSX와 함께 사용되며, Babel 같은 도구를 사용하여 자바스크립트로 변환함

### 1.5.2 단일 페이지 애플리케이션과 React

- 단일 페이지 애플리케이션 아키텍쳐에서의 클라이언트는 서버보다는 클라이언트 측에 로직이 더 많은 팻 클라이언트의 형태를 띄며, HTML 렌더링, 입력값 검증, UI 변경 등의 기능을 브라우저에서 해결
- 서버에서는 페이지 요청에 대한 응답으로 HTML, CSS, 자바스크립트 같은 정적 자원을 보내며 이 때에는 GIF나 기본 애니메이션 등을 통해 기본 상태를 표시함
- 자바스크립트 로드 후, 서버로부터 데이터를 로드하고 상태를 변경하여 뷰를 갱신하면 사용자가 볼 수 있는 상태로 변경됨
- 경우에 따라 별도로 서버에서 데이터를 요청하거나 브라우저 라우팅을 통해 새로 페이지를 로딩하지 않고 브라우저에서 렌더링을 수행

### 1.5.3 React 개발 스택

- React는 모든 것을 갖춘 프레임워크가 아니므로 데이터 모델링, 스타일, 라우팅 등에 대해 정해진 방법이 없으므로 React와 여러 라이브러리를 결합하여 사용함

    - 데이터 모델링과 백엔드 : RefluxJs, Redux, Meteor
    - 라우팅 : React Router
    - 부트스트랩 : React Bootstrap

- JSX도 React 개발 스택의 일부가 되기도 하며, 가독성 면에서 더 편리하고 Babel 등에 의해 자바스크립트로 변환됨

## 1.6 첫 번째 React 앱 만들기 : Hello World

```html
<!DOCTYPE html>
<html>

<head>
    <!-- react, react-dom 참조 -->
    <script src="js/react.js"></script>
    <script src="js/react-dom.js"></script>
</head>

<body>

    <!-- 리액트 엘리먼트를 추가할 위치 -->
    <div id="content"></div>

    <!-- 리액트 엘리먼트를 생성하여, DOM에 추가 -->
    <script type="text/javascript">
        // React.createElement(component_name, props, ...children)
        const h1 = React.createElement('h1', null, 'Hello, world!');

        // ReactDOM.render(element, container[, callback])
        ReactDOM.render(h1, document.getElementById('content'));
    </script>

</body>

</html>

```
